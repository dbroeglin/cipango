<?xml version="1.0" encoding="UTF-8"?>
<!--
  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
  - JOnAS: Java(TM) Open Application Server
  - Copyright (C) 2007 Bull S.A.S.
  - Contact: jonas-team@ow2.org
  -
  - This library is free software; you can redistribute it and/or
  - modify it under the terms of the GNU Lesser General Public
  - License as published by the Free Software Foundation; either
  - version 2.1 of the License, or any later version.
  -
  - This library is distributed in the hope that it will be useful,
  - but WITHOUT ANY WARRANTY; without even the implied warranty of
  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  - Lesser General Public License for more details.
  -
  - You should have received a copy of the GNU Lesser General Public
  - License along with this library; if not, write to the Free Software
  - Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307
  - USA
  -
  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
  - $Id: metadata.xml 14317 2008-06-18 15:46:13Z fornacif $
  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
-->
<ipojo>
  <component className="org.cipango.jonas.CipangoService"
             immediate="false">

    <provides interface="org.ow2.jonas.web.JWebContainerService" />

    <!-- Required dependencies -->
    <!-- "Inherited" from AbsService -->
    <requires optional="false"
              specification="org.ow2.jonas.properties.ServerProperties">
      <callback type="bind" method="setServerProperties" />
    </requires>
    <!-- "Inherited" from BaseWebContainerService -->
    <requires optional="false"
              specification="org.ow2.jonas.jmx.JmxService">
      <callback type="bind" method="setJmxService" />
    </requires>
    <requires optional="false"
              specification="org.ow2.util.ee.metadata.war.api.IWarDeployableMetadataFactory">
      <callback type="bind" method="setWarDeployableMetadataFactory" />
    </requires>
    <requires optional="false"
              specification="org.ow2.jonas.naming.JNamingManager">
      <callback type="bind" method="setNaming" />
    </requires>
    <requires optional="false"
              specification="org.ow2.jonas.naming.JComponentContextFactory">
      <callback type="bind" method="setContextFactory" />
    </requires>
    <requires optional="false"
              specification="org.ow2.util.ee.deploy.api.deployer.IDeployerManager">
      <callback type="bind" method="setDeployerManager" />
    </requires>
    
    <!-- Optional dependencies -->
    <requires optional="true"
              specification="org.ow2.jonas.ws.WebServicesService">
      <callback type="bind" method="setWsService" />
      <!-- TODO we should have an unbind here -->
    </requires>
    
    <requires optional="true"
              specification="org.ow2.jonas.workcleaner.WorkCleanerService">
      <callback type="bind" method="setWorkCleanerService" />
    </requires>

    <!-- LifeCycle callbacks -->
    <callback transition="validate" method="start" />
    <callback transition="invalidate" method="stop" />

    <properties propagation="true">
      <property name="parsingwithvalidation"
                method="setParsingwithvalidation"
                type="boolean" />
    </properties>
  </component>
</ipojo>